@model IEnumerable<MvcApplicationDatabase.Models.Question>

@{
    string act = ViewContext.RouteData.Values["action"].ToString().ToLower();
    act = act.Equals("index") ? "newest" : act;
    ViewBag.Title = "Questions";
    string[] tabs = {"newest", "faq", "votes", "active", "unanswered"};
}

<h2 class="title">All @ViewBag.Title</h2>
<div class="subheader">
    <div id="tabs">
        @foreach(string tab in tabs) {
            <a href="question/@tab" @(act == @tab ? "class=youarehere" : "")>@tab</a>
        }
    </div>
</div>
<p class="dno">
    @Html.ActionLink("Create New", "Create")
</p>

<div id="question-list">
    @foreach (var item in Model) {
    <div class="question-summary" id="question-summary-@item.Id">
        <div class="cp">
            <div class="votes">
                <div class="count">0</div>
                <div>votes</div>
            </div>
            <div class="answers">
                <div class="count">0</div>
                <div>answers</div>
            </div>
            <div class="views">
                <div>0 views</div>
            </div>
        </div>
        <div class="summary">
            <h3>@Html.ActionLink(item.Title, item.Id.ToString(), "question")</h3>
            <div class="tags">
                <!-- TEST TAGS -->
               <!-- <a href="#" class="post-tag">C#</a>
                <a href="#" class="post-tag">Javascript</a> -->
                @foreach (var tag in item.Tags)
                {
                    @Html.ActionLink(@tag.Name, @tag.Name.ToLower(), new { controller = "question/tagged" }, new { @class = "post-tag", })
                }
            </div>
        </div>
    </div>
    }
</div>
<p>
    @for (int i = 1; i <= Math.Abs(ViewBag.QuestionCount/ViewBag.PageSize); i++)
    {
        @Html.ActionLink(i.ToString() + " | ", "Index", new { page=i })
    }
</p>
<p>
    <b>Pagesize:</b>
    @Html.ActionLink("5", "Index", new { pagesize=5 }) | 
    @Html.ActionLink("10", "Index", new { pagesize=10 })  | 
    @Html.ActionLink("15", "Index", new { pagesize=15 })
</p>
<br />